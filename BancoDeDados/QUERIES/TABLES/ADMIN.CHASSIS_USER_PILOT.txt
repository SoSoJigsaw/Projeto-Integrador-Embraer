CREATE TABLE "ADMIN"."CHASSIS_USER_PILOT" 
   (	"CHASSIS_USER_PILOT_ID" NUMBER, 
	"OWNER_ID" NUMBER, 
	"PILOT_ID" NUMBER, 
	"CHASSI_ID" NUMBER, 
	"DATE_REGISTER" TIMESTAMP (6), 
	"STATUS" VARCHAR2(1 BYTE) COLLATE "USING_NLS_COMP"
   )  DEFAULT COLLATION "USING_NLS_COMP" ;

CREATE UNIQUE INDEX "ADMIN"."UK_OWNER_PILOT_CHASSI_ID" ON "ADMIN"."CHASSIS_USER_PILOT" ("OWNER_ID", "PILOT_ID", "CHASSI_ID") 
  ;

ALTER TABLE "ADMIN"."CHASSIS_USER_PILOT" ADD PRIMARY KEY ("CHASSIS_USER_PILOT_ID")
  USING INDEX  ENABLE;

ALTER TABLE "ADMIN"."CHASSIS_USER_PILOT" MODIFY ("DATE_REGISTER" NOT NULL ENABLE);

ALTER TABLE "ADMIN"."CHASSIS_USER_PILOT" ADD CONSTRAINT "UK_OWNER_PILOT_CHASSI_ID" UNIQUE ("OWNER_ID", "PILOT_ID", "CHASSI_ID")
  USING INDEX  ENABLE;

ALTER TABLE "ADMIN"."CHASSIS_USER_PILOT" ADD CONSTRAINT "FK_OWNER_ID" FOREIGN KEY ("OWNER_ID")
	  REFERENCES "ADMIN"."CHASSIS_USER_OWNER" ("CHASSIS_USER_OWNER_ID") ENABLE;

ALTER TABLE "ADMIN"."CHASSIS_USER_PILOT" ADD CONSTRAINT "FK_PILOT_ID" FOREIGN KEY ("PILOT_ID")
	  REFERENCES "ADMIN"."USERS" ("USER_ID") ENABLE;

ALTER TABLE "ADMIN"."CHASSIS_USER_PILOT" ADD CONSTRAINT "FK_CHASSI_ID_PILOT" FOREIGN KEY ("CHASSI_ID")
	  REFERENCES "ADMIN"."CHASSIS" ("CHASSI_ID") ENABLE;

CREATE OR REPLACE EDITIONABLE TRIGGER "ADMIN"."TRG_SEQ_USER_PILOT" 
BEFORE INSERT ON "CHASSIS_USER_PILOT"
FOR EACH ROW
BEGIN
  SELECT CHASSIS_USER_PILOT_SEQ.NEXTVAL
  INTO :new.CHASSIS_USER_PILOT_ID
  FROM dual;
END;
/
ALTER TRIGGER "ADMIN"."TRG_SEQ_USER_PILOT" ENABLE;

