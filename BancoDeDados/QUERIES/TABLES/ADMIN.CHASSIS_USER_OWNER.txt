CREATE TABLE "ADMIN"."CHASSIS_USER_OWNER" 
   (	"CHASSIS_USER_OWNER_ID" NUMBER, 
	"USER_ID" NUMBER, 
	"CHASSI_ID" NUMBER, 
	"DATE_REGISTER" TIMESTAMP (6), 
	"STATUS" VARCHAR2(1 BYTE) COLLATE "USING_NLS_COMP"
   )  DEFAULT COLLATION "USING_NLS_COMP" ;

CREATE UNIQUE INDEX "ADMIN"."UK_CHASSI_USER_OWNER" ON "ADMIN"."CHASSIS_USER_OWNER" ("USER_ID", "CHASSI_ID") 
  ;

ALTER TABLE "ADMIN"."CHASSIS_USER_OWNER" ADD PRIMARY KEY ("CHASSIS_USER_OWNER_ID")
  USING INDEX  ENABLE;

ALTER TABLE "ADMIN"."CHASSIS_USER_OWNER" ADD CONSTRAINT "UK_CHASSI_USER_OWNER" UNIQUE ("USER_ID", "CHASSI_ID")
  USING INDEX  ENABLE;

ALTER TABLE "ADMIN"."CHASSIS_USER_OWNER" MODIFY ("DATE_REGISTER" NOT NULL ENABLE);

ALTER TABLE "ADMIN"."CHASSIS_USER_OWNER" ADD CONSTRAINT "FK_USER_ID_OWNER" FOREIGN KEY ("USER_ID")
	  REFERENCES "ADMIN"."USERS" ("USER_ID") ENABLE;

ALTER TABLE "ADMIN"."CHASSIS_USER_OWNER" ADD CONSTRAINT "FK_CHASSI_ID_OWNER" FOREIGN KEY ("CHASSI_ID")
	  REFERENCES "ADMIN"."CHASSIS" ("CHASSI_ID") ENABLE;

CREATE OR REPLACE EDITIONABLE TRIGGER "ADMIN"."TRG_SEQ_USER_OWNER" 
BEFORE INSERT ON "CHASSIS_USER_OWNER"
FOR EACH ROW
BEGIN
  SELECT CHASSIS_USER_OWNER_SEQ.NEXTVAL
  INTO :new.CHASSIS_USER_OWNER_ID
  FROM dual;
END;
/
ALTER TRIGGER "ADMIN"."TRG_SEQ_USER_OWNER" ENABLE;

