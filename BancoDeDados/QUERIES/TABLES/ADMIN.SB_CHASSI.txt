CREATE TABLE "ADMIN"."SB_CHASSI" 
   (	"CHASSI_ID" NUMBER, 
	"SB_ID" NUMBER, 
	"SB_CHASSI_ID" NUMBER, 
	"SB_STATUSSERVICE" VARCHAR2(200 BYTE) COLLATE "USING_NLS_COMP"
   )  DEFAULT COLLATION "USING_NLS_COMP" ;

CREATE UNIQUE INDEX "ADMIN"."SB_CHASSI_PK" ON "ADMIN"."SB_CHASSI" ("SB_CHASSI_ID") 
  ;

CREATE UNIQUE INDEX "ADMIN"."SB_CHASSI_UK" ON "ADMIN"."SB_CHASSI" ("SB_ID", "CHASSI_ID") 
  ;

ALTER TABLE "ADMIN"."SB_CHASSI" MODIFY ("CHASSI_ID" NOT NULL ENABLE);

ALTER TABLE "ADMIN"."SB_CHASSI" MODIFY ("SB_ID" NOT NULL ENABLE);

ALTER TABLE "ADMIN"."SB_CHASSI" MODIFY ("SB_CHASSI_ID" NOT NULL ENABLE);

ALTER TABLE "ADMIN"."SB_CHASSI" MODIFY ("SB_STATUSSERVICE" NOT NULL ENABLE);

ALTER TABLE "ADMIN"."SB_CHASSI" ADD CONSTRAINT "SB_CHASSI_PK" PRIMARY KEY ("SB_CHASSI_ID")
  USING INDEX  ENABLE;

ALTER TABLE "ADMIN"."SB_CHASSI" ADD CONSTRAINT "FK_SB_ID_CHASSI" FOREIGN KEY ("SB_ID")
	  REFERENCES "ADMIN"."SERVICE_BULLETIN" ("SB_ID") ENABLE;

ALTER TABLE "ADMIN"."SB_CHASSI" ADD CONSTRAINT "FK_CHASSI_ID_SB" FOREIGN KEY ("CHASSI_ID")
	  REFERENCES "ADMIN"."CHASSIS" ("CHASSI_ID") ENABLE;

CREATE OR REPLACE EDITIONABLE TRIGGER "ADMIN"."TRG_SEQ_SB_CHASSI_ID" 
BEFORE INSERT ON SB_CHASSI
FOR EACH ROW
BEGIN
  SELECT SB_CHASSI_ID_SEQ.NEXTVAL
  INTO :new.SB_CHASSI_ID
  FROM dual;
END;
/
ALTER TRIGGER "ADMIN"."TRG_SEQ_SB_CHASSI_ID" ENABLE;

