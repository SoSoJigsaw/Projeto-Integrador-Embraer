CREATE TABLE "ADMIN"."USERS" 
   (	"USER_ID" NUMBER, 
	"USER_USERNAME" VARCHAR2(1000 BYTE) COLLATE "USING_NLS_COMP", 
	"USER_PASSWORD" VARCHAR2(1000 BYTE) COLLATE "USING_NLS_COMP", 
	"PERMISSION_ID" NUMBER
   )  DEFAULT COLLATION "USING_NLS_COMP" ;

CREATE UNIQUE INDEX "ADMIN"."PK_USER_ID" ON "ADMIN"."USERS" ("USER_ID") 
  ;

ALTER TABLE "ADMIN"."USERS" MODIFY ("USER_ID" NOT NULL ENABLE);

ALTER TABLE "ADMIN"."USERS" ADD CONSTRAINT "PK_USER_ID" PRIMARY KEY ("USER_ID")
  USING INDEX  ENABLE;

ALTER TABLE "ADMIN"."USERS" ADD CONSTRAINT "FK_ID_PERMISSION" FOREIGN KEY ("PERMISSION_ID")
	  REFERENCES "ADMIN"."PERMISSION" ("PERMISSION_ID") ENABLE;

CREATE OR REPLACE EDITIONABLE TRIGGER "ADMIN"."TRG_SEQ_USER_ID" 
BEFORE INSERT ON "USERS"
FOR EACH ROW
BEGIN
  SELECT USER_ID_SEQ.NEXTVAL
  INTO :new.USER_ID
  FROM dual;
END;
/
ALTER TRIGGER "ADMIN"."TRG_SEQ_USER_ID" ENABLE;

